<div class="modal-header ng-scope">
    <h3 class="modal-title">Add project capacity</h3>
</div>
<div class="modal-body ng-scope">
    <form name="forms.capacityForm" ng-submit="saveCapacity()"  ng-controller="CapacityAddController"novalidate>
		<div class="form-group">
		  <label for="cap_project">Project:</label>
		  <select id="cap_project" class="form-control" ng-model="capProject.id"
		      ng-options="project.id as project.name for project in projects" ng-required="true"></select>
		</div>
		<div class="form-group">
		  <label for="cap_employee">Employee:</label>
		  <select id="cap_employee" class="form-control" ng-model="capProject.employees"
		      ng-options="employee.id as employee.name for employee in employees" ng-required="true"></select>
		</div>

		<hr>

		<div ng-repeat="capacity in capProject.capacity">
		  <div class="form-group">
		    <label for="{{'cap_value-'+$index}}">Capacity:</label>
		    <a href="" ng-show="!$first" ng-click="removeCapacity($index)">Remove</a>
		    <input id="{{'cap_value-'+$index}}" class="form-control"
		        ng-model="capacity.value" ng-required="true"></select>
		  </div>
		  <div class="row">
		    <div class="form-group col-md-6">
		      <label for="{{'cap_start-'+$index}}">Start date:</label>
		      <div class="input-group">
		        <input id="{{'cap_start-'+$index}}" type="text" class="form-control" datepicker-popup="{{datepickerSettings.format}}" ng-model="capacity.start" is-open="capacity.openedStart" min-date="minDate" datepicker-options="datepickerSettings.options" ng-required="true" close-text="Close" show-weeks="true" ng-required="true"/>
		        <span class="input-group-btn">
		          <button type="button" class="btn btn-default" ng-click="openStart($event, capacity)"><i class="glyphicon glyphicon-calendar"></i></button>
		        </span>
		      </div>
		    </div>
		    <div class="form-group col-md-6">
		      <label for="{{'cap_end-'+$index}}">End date:</label>
		      <div class="input-group">
		        <input id="{{'cap_end-'+$index}}" type="text" class="form-control" datepicker-popup="{{datepickerSettings.format}}" ng-model="capacity.end" is-open="capacity.openedEnd" min-date="capacity.start" datepicker-options="datepickerSettings.options" ng-required="true" close-text="Close" show-weeks="true" ng-required="true" />
		        <span class="input-group-btn">
		          <button type="button" class="btn btn-default" ng-click="openEnd($event, capacity)"><i class="glyphicon glyphicon-calendar"></i></button>
		        </span>
		      </div>
		    </div>
		  </div>
		  <hr>
		</div>

		<div class="text-right">
		  <button type="button" class="btn btn-success btn-sm" ng-click="addCapacity()"><i class="glyphicon glyphicon-plus"></i> Add more</button>
		</div>

		<button type="submit" class="btn btn-primary" ng-disabled="forms.capacityForm.$invalid">Submit</button>

	</form>
</div>