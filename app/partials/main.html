<div class="row">
	<div class="col-md-9" ng-controller="TabsController">
		<tabset>
		    <tab 
		        ng-repeat="tab in tabs" 
		        heading="{{tab.heading}}"
		        select="go(tab.route)"
		        active="tab.active">
		    </tab>
		</tabset>
		<div class="tab-content" ui-view></div>
	</div>

	<div class="col-md-3">
	    <accordion close-others="oneAtATime">
	      <accordion-group heading="Add project">
	          <form name="forms.projectForm" ng-submit="addProject()" ng-controller="ProjectAddController" novalidate>
	          <div class="form-group">
	            <label for="project_name">Project name:</label>
	            <input ng-model="project.name" type="text" class="form-control" id="project_name"  ng-required="true">
	          </div>
	          <div class="form-group">
	            <label for="project_lead">Team Lead:</label>
	            <input ng-model="project.lead" type="text" class="form-control" id="project_lead" ng-required="true">
	          </div>
	          <div class="form-group">
	            <label for="project_location">Project location:</label>
	            <input ng-model="project.location"  type="text" class="form-control" id="project_location" ng-required="true">
	          </div>
	          
	          <div class="form-group">
	            <label for="project_start">Start date:</label>
	            <div class="input-group">
	              <input id="project_start" type="text" class="form-control" datepicker-popup="{{datepickerSettings.format}}" ng-model="project.start" is-open="datepickerSettings.openedStart" min-date="minDate" datepicker-options="datepickerSettings.options" ng-required="true" close-text="Close" />
	              <span class="input-group-btn">
	                <button type="button" class="btn btn-default" ng-click="open($event,'openedStart')"><i class="glyphicon glyphicon-calendar"></i></button>
	              </span>
	            </div>
	          </div>
	          <div class="form-group">
	            <label for="project_end">End date:</label>
	            <div class="input-group">
	              <input id="project_end" type="text" class="form-control" datepicker-popup="{{datepickerSettings.format}}" ng-model="project.end" is-open="datepickerSettings.openedEnd" min-date="project.start" datepicker-options="datepickerSettings.options" ng-required="true" close-text="Close" />
	              <span class="input-group-btn">
	                <button type="button" class="btn btn-default" ng-click="open($event,'openedEnd')"><i class="glyphicon glyphicon-calendar"></i></button>
	              </span>
	            </div>
	          </div>
	          <div class="form-group" ng-init="project.status='current'">
	            <div class="radio-inline">
	              <label>
	                <input ng-model="project.status" type="radio" name="statusRadios" id="currentStatus" value="current" checked>
	                Current
	              </label>
	            </div>
	            <div class="radio-inline">
	              <label>
	                <input ng-model="project.status" type="radio" name="statusRadios" id="pendingStatus" value="pending">
	                Pending
	              </label>
	            </div>
	          </div>

	          <button type="submit" class="btn btn-primary" ng-disabled="forms.projectForm.$invalid">Submit</button>
	        </form>
	        </accordion-group>

	        <accordion-group heading="Add capacity">
	          <form name="forms.capacityForm" ng-submit="saveCapacity()"  ng-controller="CapacityAddController"novalidate>
	            <div class="form-group">
	              <label for="cap_project">Project:</label>
	              <select id="cap_project" class="form-control" ng-model="capProject.id"
	                  ng-options="project.id as project.name for project in projects" ng-required="true"></select>
	            </div>
	            <div class="form-group">
	              <label for="cap_employee">Employee:</label>
	              <select id="cap_employee" class="form-control" ng-model="capProject.employees"
	                  ng-options="employee.id as employee.name for employee in employees" ng-required="true"></select>
	            </div>

	            <hr>

	            <div ng-repeat="capacity in capProject.capacity">
	              <div class="form-group">
	                <label for="{{'cap_value-'+$index}}">Capacity:</label>
	                <a href="" ng-show="!$first" ng-click="removeCapacity($index)">Remove</a>
	                <input id="{{'cap_value-'+$index}}" class="form-control"
	                    ng-model="capacity.value" ng-required="true"></select>
	              </div>
	              <div class="row">
	                <div class="form-group col-md-6">
	                  <label for="{{'cap_start-'+$index}}">Start date:</label>
	                  <div class="input-group">
	                    <input id="{{'cap_start-'+$index}}" type="text" class="form-control" datepicker-popup="{{datepickerSettings.format}}" ng-model="capacity.start" is-open="capacity.openedStart" min-date="minDate" datepicker-options="datepickerSettings.options" ng-required="true" close-text="Close" show-weeks="true" ng-required="true"/>
	                    <span class="input-group-btn">
	                      <button type="button" class="btn btn-default" ng-click="openStart($event, capacity)"><i class="glyphicon glyphicon-calendar"></i></button>
	                    </span>
	                  </div>
	                </div>
	                <div class="form-group col-md-6">
	                  <label for="{{'cap_end-'+$index}}">End date:</label>
	                  <div class="input-group">
	                    <input id="{{'cap_end-'+$index}}" type="text" class="form-control" datepicker-popup="{{format}}" ng-model="capacity.end" is-open="capacity.openedEnd" min-date="capacity.start" datepicker-options="datepickerSettings.options" ng-required="true" close-text="Close" show-weeks="true" ng-required="true" />
	                    <span class="input-group-btn">
	                      <button type="button" class="btn btn-default" ng-click="openEnd($event, capacity)"><i class="glyphicon glyphicon-calendar"></i></button>
	                    </span>
	                  </div>
	                </div>
	              </div>
	              <hr>
	            </div>

	            <div class="text-right">
	              <button type="button" class="btn btn-success btn-sm" ng-click="addCapacity()"><i class="glyphicon glyphicon-plus"></i> Add more</button>
	            </div>

	            <button type="submit" class="btn btn-primary" ng-disabled="forms.capacityForm.$invalid">Submit</button>

	          </form>
	        </accordion-group>

	        <accordion-group heading="Add employee">
	          <form name="forms.employeeForm" ng-submit="addEmployee()" ng-controller="EmployeeAddController" novalidate>
	          <div class="form-group">
	            <label for="employee_name">Employee name:</label>
	            <input ng-model="employee.name" type="text" class="form-control" id="employee_name"  ng-required="true">
	          </div>
	          <button type="submit" class="btn btn-primary" ng-disabled="forms.employeeForm.$invalid">Submit</button>
	        </form>
	        </accordion-group>
	    </accordion>
	  </div>
	</div>
</div>



